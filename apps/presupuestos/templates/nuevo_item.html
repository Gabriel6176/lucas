{% extends 'base.html' %}

{% block title %}{{ form.instance.id|default:"Nuevo" }} Ítem{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="text-center">{% if form.instance.id %}Editar Ítem{% else %}Agregar Nuevo Ítem{% endif %}</h1>
    <div class="row justify-content-center">
        <div class="col-md-6">
            <form method="post">
                {% csrf_token %}
                <div class="form-group mb-3">
                    <label for="cantidad">Cantidad</label>
                    <input type="number" id="cantidad" name="cantidad" class="form-control" required 
                           value="{{ form.instance.cantidad|default:'' }}">
                </div>
                <div class="form-group mb-3">
                    <label for="ancho">Ancho (cm)</label>
                    <input type="number" step="0.01" id="ancho" name="ancho" class="form-control" required
                           value="{{ form.instance.ancho|default:'' }}">
                </div>
                <div class="form-group mb-3">
                    <label for="alto">Alto (cm)</label>
                    <input type="number" step="0.01" id="alto" name="alto" class="form-control" required
                           value="{{ form.instance.alto|default:'' }}">
                </div>
                <div class="form-group mb-3">
                    <label for="tipo">Tipo</label>
                    <select id="tipo" name="tipo" class="form-control" required>
                        <option value="" disabled {% if not form.instance.tipo %}selected{% endif %}>Cargue el tipo</option>
                        {% for tipo in tipos %}
                            <option value="{{ tipo.id }}" {% if form.instance.tipo and form.instance.tipo.id == tipo.id %}selected{% endif %}>
                                {{ tipo.detalle }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group mb-3">
                    <label for="color">Color</label>
                    <select id="color" name="color" class="form-control" required>
                        <option value="" disabled {% if not form.instance.color %}selected{% endif %}>Elija Color</option>
                        {% for color in colores %}
                            <option value="{{ color.id }}" {% if form.instance.color and form.instance.color.id == color.id %}selected{% endif %}>
                                {{ color.nombre }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group mb-3">
                    <label for="revestimiento">Revestimiento</label>
                    <select id="revestimiento" name="revestimiento" class="form-control" required>
                        <option value="" disabled {% if not form.instance.revestimiento %}selected{% endif %}>Elija Revestimiento</option>
                        {% for revestimiento in revestimientos %}
                            <option value="{{ revestimiento.id }}" {% if form.instance.revestimiento and form.instance.revestimiento.id == revestimiento.id %}selected{% endif %}>
                                {{ revestimiento.nombre }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <button type="submit" class="btn btn-primary w-100">
                    {% if form.instance.id %}Guardar Cambios{% else %}Guardar Ítem{% endif %}
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
